<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Calculator MVP</title>
    <link rel="stylesheet" href="src/css/main.css">
</head>

<body>
    <div class="app-layout">
        <!-- Sidebar Navigation -->
        <aside id="sidebar">
            <h2 style="font-size: 1.2rem; margin-bottom: 1rem; color: #fff;">FinanceApp</h2>
            <nav id="main-nav">
                <ul>
                    <li>
                        <button class="nav-btn active" data-section="basic-calc">
                            <span>üî¢</span> B√°sica
                        </button>
                    </li>
                    <li>
                        <button class="nav-btn" data-section="loans-movements">
                            <span>üí∏</span> Pr√©stamos
                        </button>
                    </li>
                    <li>
                        <button class="nav-btn" data-section="trading-tools">
                            <span>üìà</span> Trading
                        </button>
                    </li>
                    <li>
                        <button class="nav-btn" data-section="currency-converter">
                            <span>üí±</span> Conversor
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <h1>Finance Calculator</h1>
                <p>Herramienta financiera para c√°lculos r√°pidos y precisos.</p>
            </header>
            <!-- Calculadora B√°sica - Apple Style -->
            <section id="basic-calc" class="section">
                <div class="apple-calc">
                    <h2>Calculadora Cient√≠fica</h2>

                    <!-- Calculator Display -->
                    <div class="calc-display" id="calc-display">0</div>

                    <!-- Calculator Button Grid -->
                    <div class="calc-grid">
                        <!-- Row 1: Scientific Functions -->
                        <button class="calc-button function" data-func="sin">sin</button>
                        <button class="calc-button function" data-func="cos">cos</button>
                        <button class="calc-button function" data-func="tan">tan</button>
                        <button class="calc-button function" data-func="sqrt">‚àö</button>

                        <!-- Row 2: More Scientific Functions -->
                        <button class="calc-button function" data-func="square">x¬≤</button>
                        <button class="calc-button function" data-func="cube">x¬≥</button>
                        <button class="calc-button function" data-func="exp">e^x</button>
                        <button class="calc-button function" data-func="log">log</button>

                        <!-- Row 3: Additional Functions -->
                        <button class="calc-button function" data-func="ln">ln</button>
                        <button class="calc-button utility" data-action="ac">AC</button>
                        <button class="calc-button utility" data-action="sign">+/-</button>
                        <button class="calc-button utility" data-action="percent">%</button>

                        <!-- Row 4: Numbers and Operators -->
                        <button class="calc-button number" data-num="7">7</button>
                        <button class="calc-button number" data-num="8">8</button>
                        <button class="calc-button number" data-num="9">9</button>
                        <button class="calc-button operator" data-op="divide">√∑</button>

                        <!-- Row 5 -->
                        <button class="calc-button number" data-num="4">4</button>
                        <button class="calc-button number" data-num="5">5</button>
                        <button class="calc-button number" data-num="6">6</button>
                        <button class="calc-button operator" data-op="multiply">√ó</button>

                        <!-- Row 6 -->
                        <button class="calc-button number" data-num="1">1</button>
                        <button class="calc-button number" data-num="2">2</button>
                        <button class="calc-button number" data-num="3">3</button>
                        <button class="calc-button operator" data-op="subtract">-</button>

                        <!-- Row 7 -->
                        <button class="calc-button number zero" data-num="0">0</button>
                        <button class="calc-button number" data-num=".">.</button>
                        <button class="calc-button operator" data-op="add">+</button>
                        <button class="calc-button operator equals" data-action="equals">=</button>
                    </div>
                </div>
            </section>

            <!-- Pr√©stamos y Movimientos -->
            <section id="loans-movements" class="section">
                <div class="card">
                    <h2>Pr√©stamos y Movimientos</h2>

                    <div class="grid-2">
                        <!-- Loan Amortization -->
                        <div class="subsection">
                            <h3>Amortizaci√≥n de Pr√©stamo</h3>
                            <div class="form-group">
                                <label for="loan-principal">Monto del Pr√©stamo ($)</label>
                                <input type="number" id="loan-principal" placeholder="Ej. 10000">
                            </div>
                            <div class="form-group">
                                <label for="loan-rate">Tasa de Inter√©s Anual (%)</label>
                                <input type="number" id="loan-rate" step="0.01" placeholder="Ej. 5">
                            </div>
                            <div class="form-group">
                                <label for="loan-months">Plazo (Meses)</label>
                                <input type="number" id="loan-months" placeholder="Ej. 12">
                            </div>
                            <button id="btn-loan-amortization" class="btn-primary">Calcular Amortizaci√≥n</button>

                            <div class="table-container mt-4">
                                <table id="amortization-table">
                                    <thead>
                                        <tr>
                                            <th>Mes</th>
                                            <th>Pago</th>
                                            <th>Capital</th>
                                            <th>Intereses</th>
                                        </tr>
                                    </thead>
                                    <tbody id="amortization-table-body">
                                        <!-- Amortization schedule will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Movement Tracking -->
                        <div class="subsection">
                            <h3>Registro de Movimientos</h3>
                            <div class="form-group">
                                <label for="movement-type">Tipo de Movimiento</label>
                                <select id="movement-type">
                                    <option value="ingreso">Ingreso</option>
                                    <option value="gasto">Gasto</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="movement-amount">Monto ($)</label>
                                <input type="number" id="movement-amount" step="0.01" placeholder="Ej. 1000">
                            </div>
                            <div class="form-group">
                                <label for="movement-description">Descripci√≥n</label>
                                <input type="text" id="movement-description" placeholder="Ej. Salario mensual">
                            </div>
                            <button id="btn-track-movement" class="btn-primary">Registrar Movimiento</button>

                            <div class="balance-summary mt-4">
                                <h4>Balance Actual</h4>
                                <div id="balance-display" class="result-box" style="font-size: 1.5rem; padding: 1rem;">
                                    $0.00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trading Tools -->
            <section id="trading-tools" class="section">
                <div class="card">
                    <h2>Herramientas de Trading</h2>

                    <div class="grid-2">
                        <!-- Calculators Column -->
                        <div class="subsection">
                            <h3>Calculadora de Posici√≥n</h3>
                            <div class="form-group">
                                <label for="trading-capital">Capital Total ($)</label>
                                <input type="number" id="trading-capital" step="0.01" placeholder="Ej. 10000">
                            </div>
                            <div class="form-group">
                                <label for="trading-entry">Precio de Entrada ($)</label>
                                <input type="number" id="trading-entry" step="0.01" placeholder="Ej. 50">
                            </div>
                            <div class="form-group">
                                <label for="trading-risk">Riesgo (%)</label>
                                <input type="number" id="trading-risk" step="0.1" placeholder="Ej. 1-2%">
                            </div>
                            <div class="form-group">
                                <label for="trading-leverage">Apalancamiento (x)</label>
                                <input type="number" id="trading-leverage" step="1" value="1" placeholder="Ej. 10">
                            </div>
                            <div class="form-group">
                                <label for="trading-rr">Ratio Riesgo/Beneficio</label>
                                <input type="number" id="trading-rr" step="0.1" value="2" placeholder="Ej. 2">
                            </div>
                            <button id="btn-trading-calculate" class="btn-primary">Calcular Posici√≥n</button>
                        </div>

                        <!-- Results Column -->
                        <div class="subsection trading-results">
                            <h3>Resultados del Trade</h3>
                            <div class="grid-2">
                                <div>
                                    <strong>Stop Loss (SL):</strong>
                                    <div id="result-sl" class="text-error"
                                        style="font-size: 1.2rem; font-weight: bold;">$0.00</div>
                                </div>
                                <div>
                                    <strong>Take Profit (TP):</strong>
                                    <div id="result-tp" class="text-success"
                                        style="font-size: 1.2rem; font-weight: bold;">$0.00</div>
                                </div>
                                <div>
                                    <strong>Tama√±o de Lote/Unidades:</strong>
                                    <div id="result-lot" style="font-size: 1.2rem; font-weight: bold;">0.0000</div>
                                </div>
                                <div>
                                    <strong>Margen Requerido:</strong>
                                    <div id="result-margen" style="font-size: 1.2rem; font-weight: bold;">$0.00</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resultados y Historial (Global) -->
            <section id="results-section" class="card section mt-4">
                <h2>Resultado Global</h2>
                <div id="result-display" class="result-box">0.00</div>
                <button id="btn-save-history" class="btn-secondary">Guardar al Historial</button>
            </section>

            <footer>
                <p>&copy; 2025 Finance Calculator MVP</p>
            </footer>
        </main>

        <script src="src/js/calculations.js"></script>
        <script src="src/js/history.js"></script>
</body>

</html>